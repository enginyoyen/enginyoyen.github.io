{/* Inlined to avoid FOUC. This is a parser blocking script. */}
<script is:inline>
	function setTheme(newTheme) {
		if (newTheme !== "light" && newTheme !== "dark") {
			return console.warn(
				`Invalid theme value '${newTheme}' received. Expected 'light' or 'dark'.`,
			);
		}

		const root = document.documentElement;

		// root already set to newTheme, exit early
		if (newTheme === root.getAttribute("data-theme")) {
			return;
		}

		root.setAttribute("data-theme", newTheme);
	}

	// Always use light mode
	setTheme("light");

	// View Transitions hook to restore theme
	document.addEventListener("astro:after-swap", () => setTheme("light"));
</script>
